\begin{definition} The cochain complex $\Theta^*(r,n)$ is the quotient of the functor tensor product $\NN^*(\asimplex^\bullet\times \EC_r)\otimes_{\asimplex}
N_\bullet(\asimplex^n)$
by the following relation:
\begin{itemize}
    	\item (Inner reorderings) $(U,w)\otimes \vec{\tau}\sim (-1)^{|\sigma|}(U,w')\otimes \vec{\tau}$ if there is an interval $u_{i-1}<u_i =\ldots u_{i+k}<u_{i+k+1}$ such that the sequences $(w_i,\ldots,w_{i+k})$ and $(w'_i,\ldots,w'_{i+k})$ differ by a permutation $\sigma$ and $w$ and $w'$ agree outside that interval. Notice that if all elements of $U$ are different, then $w=w'$.
\end{itemize}
\end{definition}
 The cochain complex $\Theta^*(r,n)$ is generated by equivalence classes of triples $(U,w)\otimes \vec{\tau}$ where $U$ is a generator of $\CC^q(\asimplex^m)$, $w$ is a generator of $\CC^q(\EC_r)$ and $\vec{\tau}$ is a generator of $\NN_m^r(\asimplex^n)$, such that $(U,w)$ is a non-degenerate simplex in $\asimplex^m\times \EC_r$,
subject to the inner reorderings relation above and 
\begin{itemize}
	%\item (Inner reorderings) $(U,w)\otimes\vec{\tau}\sim (-1)^{|\sigma|}(U,w')\otimes \vec{\tau}$ if there is an interval $u_{i-1}<u_i =\ldots u_{i+k}<u_{i+k+1}$ such that the sequences $(w_i,\ldots,w_{i+k})$ and $(w'_i,\ldots,w'_{i+k})$ differ by a permutation $\sigma$ and $w$ and $w'$ agree outside that interval.
	\item (Full piece removal) $(U,w)\otimes d_i(\vec{\tau})\sim (-1)^{|U_{\ge i}|}d_i(U,w)\otimes \vec{\tau}$.
\end{itemize}
Again, every class has a unique minimal (resp.\,maximal) representative $(U,w)\otimes \vec{\tau}$ up to inner reorderings, characterised by not having full pieces (resp.\,$\tau$ being the top simplex). The differential of a class is the class of the differential of its minimal representative. There is a dual complex $\Theta_*(r,n)$ where we take chains in $\asimplex^m\times \EC_r$ instead of cochains. Its differential on a class is the class of the differential of its maximal representative. The cyclic group $\Cyc_r$ acts on $\Theta^*(r,n)$ as $\rho([(U,w,\vec{\tau})]) = [(U,\rho(w),\vec{\tau})]$, with $\rho((w_0,w_1,\ldots,w_q)) = (w_0-1,w_1-1,\ldots,w_q-1)$.


%The full piece removal defines an order relation on each equivalence class. Then $\partial([(U,w,\tau)]) = [\partial(\bar{U},\bar{w},\tau)]$ where $(\bar{U},\bar{w},\tau)$ is a maximal representative of $[(U,w,\tau)]$ (in order to compute it it is enough to consider representatives that have a single full piece).
\begin{definition} Let $\check{\Theta}^*(r,n)$ be defined as $\Theta^*(r,n)$, but redefining $w'_j = w_{j-r}$ instead of $w'_j = w_{j-r}-1$ in \eqref{eq:Theta}.
\end{definition}
\begin{lemma}
	The map $\beta'\colon \Theta^*(r,n)\lra \check{\Theta}^*(r,n)$ that sends $(U,w)\otimes \vec{\tau}$ to $(U,w')\otimes \vec{\tau}$, where $w_i' = u_i+w_1\mod r$ is a $C_r$-equivariant isomorphism of chain complexes.
\end{lemma}
\begin{proof} Immediate.
\end{proof}
Given $(U,w)\in \NN^*(\asimplex^m\times \EC_r)$, define for each $0\leq i\leq r-1$
\[U_w^i = \{u_j\in U\mid w_j=i\}\]
Let $\sigma(w)$ be the sign of the permutation that arranges $w$ in ascending order without permuting entries with the same label. For example, we can arrange $w=01210$ in ascending order in two steps: first, move the last zero to the second position $w' = 00121$, which is an odd permutation. Second, move the last one to the penultimate position obtaining the ascending word $00112$, which is again an odd permutation, therefore $\sigma(w) = 0$.
\begin{lemma}
	The map $\beta\colon \check{\Theta}^*(r,n)\lra \NN^*(\asimplex^\bullet)^{\otimes r}\otimes_{\asimplex} \NN_\bullet^r(\asimplex^n)$ given by
	\[\beta(U,w,\vec{\tau}) = (-1)^{\sigma(w)}(U_w^0,\ldots, U_w^{r-1})\otimes \vec{\tau}\]
	is a $\Cyc_r$-equivariant isomorphism of chain complexes.
\end{lemma}
\begin{proof} Immediate.\qedhere


\subsection{First model of $\NN_*(\asimplex^n)^{\otimes r}$} Recall that $\asimplex^{\bn}\colon \asimplex^{\op}\to \Setp$ is the augmented standard simplex of dimension $n$. Consider the subset $\Delta(\asimplex^n)^{*r}$ of $\asimplex^n * \overset{r}{\ldots}* \asimplex^n$ of \emph{diagonal join simplices}, i.e., simplices in the join of the form $\vec{\tau} = (\tau,\ldots,\tau)$, where $\tau\in \asimplex^n$ is an $m$-simplex. Define $\NN_m^r(\asimplex^n)$ as the free graded $R$-module on the $rm$-simplices of $\Delta(\asimplex^{\bn})^r$. There is an isomorphism $\NN_m(\asimplex^n)\lra \NN_m^r(\asimplex^n)$ of degree $(r-1)m$ that sends a simplex $\tau$ to the diagonal join simplex $\vec{\tau}$. Additionally, every face map $d_i\colon \overline{m-1}\to \bm$ induces a homomorphism $\NN_m^r(\asimplex^n)\to \NN_{m-1}^r(\asimplex^n)$ of degree $r$ that sends a diagonal product simplex $\vec{\tau}$ to $d_i\vec{\tau}:= (-1)^i(\tau\circ d_i,\ldots,\tau\circ d_i)$. Therefore, we have defined a functor $\NN_\bullet^r(\asimplex^n)\colon \asimplex^{\op}\to \Ch{R}$ with values in graded $R$-modules.

Define now another functor $\NN^*(\asimplex^\bullet)\colon \asimplex\to \Ch{R}$ whose value on a finite ordinal $\bm$ is the cochain complex $\NN^*(\asimplex^{\bm})$ and, for a face map $d_i\colon \bm\to \overline{m+1}$, define 
\[d_i(U) = (-1)^{|U_{\geq i Â´}|}[x<i, x\in U]*[i]*[x>i, x-1 \in U],\]
%\[D_i(U) = \left\{
%x\left| \begin{array}{l}
%x<i \text{ and } x\in U \\
%x=i \\
%x>i \text{ and } x-1 \in U.
%\end{array}\right.
%\right\}
%\]
where $U_{\geq i} = [u\in U\mid u\geq i]$. The functor tensor product $\NN^*(\asimplex^\bullet)^{\otimes r}\otimes_{\asimplex} \NN_\bullet^r(\asimplex^n)$ %of the functors:
%\begin{align*}
%	F\colon \Delta&\lra \Ch(R)& G\colon \Delta^{\op}&\lra \Ch(R)\\
%	F([m])&=(\mathrm{sh} N^*(\Delta^m))^{\otimes r}& G[m] &= N_{rm}(\Delta(\Delta^n)^{*r}),
%\end{align*}
is generated by tuples $ (U_0,\ldots,U_{r-1})\otimes \vec{\tau}$, up to the equivalence relation generated by:
\begin{equation}\label{eq:59}(-1)^{\sum U_i}(U_0,\ldots,U_{r-1})\otimes d_j\vec{\tau}\sim (-1)^{\sum (r-i-1)\cdot |U_i|}(d_j(U_0),\ldots,d_j(U_{r-1}))\otimes \vec{\tau}.
\end{equation}
Every equivalence class has a unique representative of minimal dimension, characterised by $\bigcap U_j = \emptyset$ and a maximal representative characterised by $\vec{\tau}$ being the top simplex in $\NN_n^r(\asimplex^n)$. The differential of a class $[(U_0,\ldots,U_{r-1})\otimes \tau]$ is the class of the differential of its minimal element. In the dual complex $\NN_*(\asimplex^\bullet)^{\otimes r}\otimes_{\asimplex} \NN_\bullet(\asimplex^n)$, the differential on a class $[ (U_1,\ldots,U_r)\otimes \vec{\tau}]$ is the class of the differential of its maximal element. The cyclic group $\Cyc_r$ acts by permuting the tensor factors of $\NN_*(\asimplex^\bullet)^{\otimes r}$.
\begin{definition} Given a generator $(U_0,\ldots,U_{r-1})$ of $(\NN^*(\Delta^m))^{\otimes r}$, let $U$ be the union of the sequences $U_0,\ldots U_{r-1}$. Consider the following quatities:
\begin{itemize}
    \item $\lambda(U) = \sum_{i=0}^{r-1} \lambda(U_i)$.
    \item $\mu(U_0,\ldots,U_{r-1},\tau)$ the parity of the permutation that changes the tuple $(U_0,\ldots,U_{r-1})\otimes (\tau,\ldots,\tau)$ to the tuple $(U_0\otimes \tau), \ldots\otimes (U_{r-1}\otimes \tau)$.
\end{itemize}
\end{definition}
\begin{remark}
    $\mu(U_0,\ldots,U_{r-1},\tau)= |\tau|\cdot \sum_{i\text{ odd}} |U_i|$
\end{remark}
\begin{lemma}
	The map $\alpha\colon \NN_*(\Delta^\bullet)^{\otimes r}\otimes_{\Delta} N_\bullet^r(\Delta^n)\lra N_*(\Delta^n)^{\otimes r}$ given on minimal representatives by
	\[\alpha((U_0,\ldots,U_{r-1})\otimes \vec{\tau}) = (-1)^{\lambda(U)+ \mu(U_0,\ldots,U_{r-1},\tau)}(d_{U_0}(\tau)\otimes \ldots\otimes d_{U_{r-1}}(\tau))\]
	is a $C_r$-isomorphism of chain complexes.
\end{lemma}
\begin{proof} This map is the composition of two equivariant maps: First, the map that rearranges the tuple $(U_0,\ldots,U_{r-1})\otimes (\tau,\ldots,\tau)$ to the tuple $(U_0\otimes \tau),\ldots,(U_{r-1})\otimes \tau$, in which one has to pay the sign $(-1)^{\mu(U_0,\ldots,U_{r-1},\tau)}$. Second, the $r$-fold tensor product of the map $Q$, in which one has to pay the sign $(-1)^{\lambda(U)}$. Finally, this is well-defined on equivalence classes.
%It has an inverse given by sending $\tau_1\otimes\ldots \otimes \tau_r$ to $(\sigma\otimes (PD(\tau_1),\ldots,PD(\tau_r)))$ with appropriate sign, where $\sigma$ is the generator of $N_n(\Delta^n)$.
\end{proof}
\begin{example}\label{ex:102}
    The element $[5,7,9]\otimes [3,4,5]\otimes [0,2,3]$ is the image of the element $((0,1,2,3),(0,1,5,6),(3,4,5,6))\otimes [0,2,3,4,5,7,9]$ with the signs $\lambda(U) = 36$ and $\mu(U_0,U_1,U_2,\tau) = 0$, hence the sign is $+1$.
\end{example}

%which now we describe: Let $\tau\otimes (U_1,\ldots,U_r)$ be a minimal element in an equivalence class, and let $[\tau\otimes (U_1,\ldots,U_r)]^f$ be the set of those representatives such that $|\bigcap U_j| = 1$. Then
%\[\partial [\tau\otimes (U_1,\ldots,U_r)] =
%\sum_{(\hat{\tau}\otimes(\hat{U}_1,\ldots,\hat{U}_r))\in [\tau\otimes (U_1,\ldots,U_r)]^f} [\hat(tau)\otimes \partial (U_1,\ldots,d_iU_k,\ldots,U_r)]- [\tau\otimes (U_1,\ldots,U_k,\ldots,U_r)]
%\]

%\[\partial[\tau\otimes (U_1,\ldots,U_r)] =
%\sum_{j,\tau'\mid d_j\tau' = \tau} (-1)^{j} [\tau',(\xi_j(U_1),\ldots,d_j\xi_j(U_k),\xi_j(U_r))] +
%\]



\subsection{Second model of $\NN_*(\asimplex^n)^{\otimes r}$} Define now a functor $\asimplex\to \Ch{r}$ by sending $\bm$ to $\NN^*(\asimplex^{\bm}\times \EC_r)$, and 
\[d_i((u_1,\ldots,u_k), (w_1,\ldots,w_k)) = (-1)^{|U_{\geq i}|}((u'_1,\ldots,u'_{k+r}),(w'_1,\ldots,w'_{k+r}))\] with
\begin{align}\label{eq:Theta}
    u'_j &= 
        \begin{cases} 
            u_j &\text{ if $j<i$} \\ 
            i & \text{ if $i\leq j < i+r$} \\ 
            u_{j-r} + 1 & \text{ if $j\geq i+r$.}
        \end{cases} 
        &
	w'_j &= 
        \begin{cases} 
            w_j &\text{ if $j<i$} \\
            j-i & \text{if $i\leq j<i+r$} \\ 
            w_{j-r} - 1 & \text{ if $j\geq i+r$.}
        \end{cases}
\end{align}
\begin{definition} The cochain complex $\Theta^*(r,n)$ is the quotient of the functor tensor product $\NN^*(\asimplex^\bullet\times \EC_r)\otimes_{\asimplex}
N_\bullet(\asimplex^n)$
by the following relation:
\begin{itemize}
    	\item (Inner reorderings) $(U,w)\otimes \vec{\tau}\sim (-1)^{|\sigma|}(U,w')\otimes \vec{\tau}$ if there is an interval $u_{i-1}<u_i =\ldots u_{i+k}<u_{i+k+1}$ such that the sequences $(w_i,\ldots,w_{i+k})$ and $(w'_i,\ldots,w'_{i+k})$ differ by a permutation $\sigma$ and $w$ and $w'$ agree outside that interval. Notice that if all elements of $U$ are different, then $w=w'$.
\end{itemize}
\end{definition}
 The cochain complex $\Theta^*(r,n)$ is generated by equivalence classes of triples $(U,w)\otimes \vec{\tau}$ where $U$ is a generator of $\CC^q(\asimplex^m)$, $w$ is a generator of $\CC^q(\EC_r)$ and $\vec{\tau}$ is a generator of $\NN_m^r(\asimplex^n)$, such that $(U,w)$ is a non-degenerate simplex in $\asimplex^m\times \EC_r$,
subject to the inner reorderings relation above and 
\begin{itemize}
	%\item (Inner reorderings) $(U,w)\otimes\vec{\tau}\sim (-1)^{|\sigma|}(U,w')\otimes \vec{\tau}$ if there is an interval $u_{i-1}<u_i =\ldots u_{i+k}<u_{i+k+1}$ such that the sequences $(w_i,\ldots,w_{i+k})$ and $(w'_i,\ldots,w'_{i+k})$ differ by a permutation $\sigma$ and $w$ and $w'$ agree outside that interval.
	\item (Full piece removal) $(U,w)\otimes d_i(\vec{\tau})\sim (-1)^{|U_{\ge i}|}d_i(U,w)\otimes \vec{\tau}$.
\end{itemize}
Again, every class has a unique minimal (resp.\,maximal) representative $(U,w)\otimes \vec{\tau}$ up to inner reorderings, characterised by not having full pieces (resp.\,$\tau$ being the top simplex). The differential of a class is the class of the differential of its minimal representative. There is a dual complex $\Theta_*(r,n)$ where we take chains in $\asimplex^m\times \EC_r$ instead of cochains. Its differential on a class is the class of the differential of its maximal representative. The cyclic group $\Cyc_r$ acts on $\Theta^*(r,n)$ as $\rho([(U,w,\vec{\tau})]) = [(U,\rho(w),\vec{\tau})]$, with $\rho((w_0,w_1,\ldots,w_q)) = (w_0-1,w_1-1,\ldots,w_q-1)$.


%The full piece removal defines an order relation on each equivalence class. Then $\partial([(U,w,\tau)]) = [\partial(\bar{U},\bar{w},\tau)]$ where $(\bar{U},\bar{w},\tau)$ is a maximal representative of $[(U,w,\tau)]$ (in order to compute it it is enough to consider representatives that have a single full piece).
\begin{definition} Let $\check{\Theta}^*(r,n)$ be defined as $\Theta^*(r,n)$, but redefining $w'_j = w_{j-r}$ instead of $w'_j = w_{j-r}-1$ in \eqref{eq:Theta}.
\end{definition}
\begin{lemma}
	The map $\beta'\colon \Theta^*(r,n)\lra \check{\Theta}^*(r,n)$ that sends $(U,w)\otimes \vec{\tau}$ to $(U,w')\otimes \vec{\tau}$, where $w_i' = u_i+w_1\mod r$ is a $C_r$-equivariant isomorphism of chain complexes.
\end{lemma}
\begin{proof} Immediate.
\end{proof}
Given $(U,w)\in \NN^*(\asimplex^m\times \EC_r)$, define for each $0\leq i\leq r-1$
\[U_w^i = \{u_j\in U\mid w_j=i\}\]
Let $\sigma(w)$ be the sign of the permutation that arranges $w$ in ascending order without permuting entries with the same label. For example, we can arrange $w=01210$ in ascending order in two steps: first, move the last zero to the second position $w' = 00121$, which is an odd permutation. Second, move the last one to the penultimate position obtaining the ascending word $00112$, which is again an odd permutation, therefore $\sigma(w) = 0$.
\begin{lemma}
	The map $\beta\colon \check{\Theta}^*(r,n)\lra \NN^*(\asimplex^\bullet)^{\otimes r}\otimes_{\asimplex} \NN_\bullet^r(\asimplex^n)$ given by
	\[\beta(U,w,\vec{\tau}) = (-1)^{\sigma(w)}(U_w^0,\ldots, U_w^{r-1})\otimes \vec{\tau}\]
	is a $\Cyc_r$-equivariant isomorphism of chain complexes.
\end{lemma}
\begin{proof} Immediate.\qedhere
%Let $(\sigma,V,\omega)$ be the maximal representative of the class $[\tau,U,w]$, where we have set every inner reordering to be ascending. Then $\sigma\otimes (V_\omega^0,\ldots,V_\omega^{r-1})$ is also the maximal representative in its class. In both cases the differential is given by the class of the differential of these maximal representatives.
%\[\partial \beta([\sigma,V,\omega]) &=
%\partial\left((-1)^{\sigma(V,\omega)}(\sigma\otimes(V_\omega^0,\ldots,V_\omega^{r-1}))\right) \\
%&= \sum_{k=0}^{r-1}(-1)^{\sigma(V,\omega)}(-1)^{\sum_{j<k} %|V_\omega^j|} \sum_{j=0}^{|V_{\omega}^k|}(-1)^i (\sigma\otimes(V_\omega^0,\ldots,d_iV_\omega^{k},\ldots,V_\omega^{r-1})
%\]
%\[\beta(\partial([\sigma,V,\omega])))
%&= \beta\left(\sum_{i}(-1)^i[(\sigma,d_iV,d_i\omega)]\right) \\
%&= \sum_i(-1)^i(-1)^{\sigma(d_iV,d_i\omega)}\left([(\sigma,(d_iV)_\omega^0,\ldots,(d_iV)_\omega^{r-1})]\right) \\
%&= \sum_{k=0}^{r-1}\sum_{i\mid \omega_i = %k}(-1)^i\left([(\sigma,V_\omega^0,\ldots,(d_iV)_\omega^{k},\ldots,V_%\omega^{r-1})] \\
%\right)
%\]
%Let $v_j$ be the $j$th element in $V_\omega^k$, so that $d_jV_\omega^k = (-1)^{j}V_\omega^k\smallsetminus \{v_j\}$. Let $i$ be the number of elements in $V$ smaller than $v_j$ plus the number of elements equal to $v_j$ such that $\omega_j<k$. Then the summand indexed by $(k,j)$ in the first sum equals the summand indexed by $i$ in the second sum up to a sign. This correspondence defines a bijection between the summands, so it only rests to check that the signs coincide, which is a thorough computation.

%Finally, it is an isomorphism because it sends generators to generators up to sign and each generator has a unique generator in its preimage.

%The formula is also independent of the chosen representative...
\end{proof}
%Because it sends generators to generators, the dual map of the inverse of $\beta$ is defined with the same formulas as $\beta$.
%\begin{corollary}
%	The map $\eta\colon \bar{\Omega}^*(r,n)\lra (F\otimes_\Delta G)$ given by
%	\[\eta([U,w,\tau]) = (-1)^{\sigma(U,w)}(U_w^0\otimes\ldots\otimes U_w^{r-1})\otimes \tau\]
%	is a $C_r$-equivariant isomorphism of chain complexes.
%\end{corollary}
